<?xml version="1.0" encoding="utf-8"?>
    <odoo>
        <template id="report_facture_template">
            <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <t t-foreach="docs" t-as="inv">
                    <div class="page">
                
                        <div class="row" id="hash_header">
                            <table class="table table-bordered">
                                <tr>
                                    <td>
                                        <div class="col-6">
                                            <br/>
                                                <img t-if="inv.company_id.logo" t-att-src="image_data_uri(inv.company_id.logo)" style="max-height:45pt;max-width:90%;margin-top:-20pt" alt="Company Logo"/>
                                                <br/>
                                                <br/>
                                                <br/>
                                                <span t-field="inv.company_id.partner_id.name"/>
                                                <br/>
                                                <span t-field="inv.company_id.street"/>
                                                <br/>
                                                <span>Tel :</span><span t-field="inv.company_id.phone"/>
                                                <br/>
                                            <br/>
                                        </div>
                                    </td>
                                    
                                </tr>
                            </table>
                                
                        </div>
                        <!-- <t t-foreach="o.invoice_ids" t-as="inv"> -->
                        

                           
                                <table style="border: 1px solid black;float:right;width:70%; font-family: Tahoma">
                                  <tr>
                                      <td rowspan="2" style="width:40%;vertical-align: middle;background-color:#1f3864;color: white;text-align:center;font-size:14pt;font-family:&quot;Tahoma&quot;,sans-serif;">
                                         
                                          <strong><span t-field="inv.move_type"/></strong>
                                          <!-- <span t-esc="lang" /> -->
                                      </td>
                                      <td style="white-space:nowrap; padding:5pt; font-size:11pt">
                                              <strong>NUMÉRO: </strong>
                                      </td>
                                      <td style="white-space:nowrap; padding:5pt; font-size:11pt">
                                              <strong><span t-field="inv.name"/></strong>
                                      </td>
                                  </tr>
                                  <tr>
                                      <td style="white-space:nowrap; padding:5pt; font-size:11pt">
                                              <strong>DATE: </strong>
                                      </td>
                                      <td style="white-space:nowrap; padding:5pt; font-size:11pt">
                                              <strong class="m-0" t-field="inv.invoice_date"/>
                                      </td>
                                  </tr>
                                 
                                </table>

                                <div>
                                        <br/><br/><br/>
                                </div>

                                <div name="address" style="margin-top:2cm">
                                    <table style="width:100%;font-family: Tahoma; font-size:11pt">
                                        <tr>
                                            <td style="width:45% !important; border: 1px solid black; padding:10pt; vertical-align:top">
                                                <strong>FACTURÉ À:</strong>
                                                <div style="padding:10pt">
                                                    <span t-if="inv.partner_id"><strong><span t-esc="inv.partner_id.name"/></strong> <br/></span>
                                                    <span t-if="inv.partner_id.street"><span t-esc="inv.partner_id.street"/> <br/></span>
                                                    <span t-if="inv.partner_id.street2"><span t-esc="inv.partner_id.street2"/> <br/></span>
                                                    <span t-if="inv.partner_id.city"><span t-esc="inv.partner_id.city"/> <br/></span>
                                                    <span t-if="inv.partner_id.phone">Tél: <span t-esc="inv.partner_id.phone"/> </span>
                                                </div>
                                            </td>
                                            <td style="width:10%">
                                            </td>
                                            <td style="width:45%; border: 1px solid black; padding:10pt; vertical-align:top">
                                                <strong>LIVRÉ À:</strong>
                                                <div style="padding:10pt">
                                                    <span t-if="inv.partner_shipping_id"><strong><span t-esc="inv.partner_shipping_id.name"/></strong> <br/></span>
                                                    <span t-if="inv.partner_shipping_id.street"><span t-esc="inv.partner_shipping_id.street"/> <br/></span>
                                                    <span t-if="inv.partner_shipping_id.street2"><span t-esc="inv.partner_shipping_id.street2"/> <br/></span>
                                                    <span t-if="inv.partner_shipping_id.city"><span t-esc="inv.partner_shipping_id.city"/> <br/></span>
                                                    <span t-if="inv.partner_shipping_id.phone">Tél: <span t-esc="inv.partner_shipping_id.phone"/> </span>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <br/>

                                <div style="font-family: Tahoma; font-size:11pt; width:100%">
                                    <div name="div_origin" style="float:left">
                                        <strong style="padding:5pt">Votre Commande: </strong>
                                        <span t-field="inv.invoice_origin"/>
                                    </div>
                                    <div style="float:right">
                                        <strong>Bon de Livraison:</strong> <span t-field="inv.invoice_origin"/>
                                    </div>
                                </div>

                                <!-- <t t-set="display_discount" t-value="any(l.discount for l in inv.invoice_line_ids)"/> -->

                                 <table class="table table-bordered" style="border: 1px solid black !important;width: 100%;">
                                    <thead style="background-color:#5D89C5">
                                        <tr style="border:1pt solid white; height:40px">
                                            <th style="border:1pt solid white;vertical-align:middle" name="th_description" class="text-center"><span style="padding:5pt">Description</span></th>
                                            <th style="border:1pt solid white;vertical-align:middle" name="th_quantity" class="text-center"><span>Quantité</span></th>
                                            <th style="border:1pt solid white;vertical-align:middle" name="th_priceunit" class="text-center"><span>Prix unitaire</span></th>
                                            <th style="border:1pt solid white;vertical-align:middle" name="th_price_unit" t-if="display_discount" t-attf-class="text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                                                <span>Rem.%</span>
                                            </th>
                                            <th style="border:1pt solid white;vertical-align:middle" name="th_taxes" class="text-center"><span>TVA</span></th>
                                            <th style="border:1pt solid white;vertical-align:middle" name="th_subtotal" class="text-center">
                                                <span groups="account.group_show_line_subtotals_tax_excluded">Montant HT</span>
                                                <span groups="account.group_show_line_subtotals_tax_included">Prix Total</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color:#D3D3D3">
                                       
                                        <t t-foreach="inv.invoice_line_ids" t-as="line">
                                           
                                           
                                            <tr style="border:1pt solid white">
                                                <td style="border:1pt solid white;vertical-align:top;padding-top:10px" name="account_invoice_line_name"><span style="padding:5pt" t-field="line.name" /></td>
                                                <td style="border:1pt solid white;vertical-align:top;padding-top:10px" class="text-right">
                                                    <span t-field="line.quantity"/>
                                                    <span t-field="line.product_uom_id" groups="uom.group_uom"/>
                                                </td>
                                                <td style="border:1pt solid white;vertical-align:top;padding-top:10px" class="text-right">
                                                    <span class="text-nowrap" t-esc="'%.2f' % line.price_unit"/>
                                                </td>
                                                <td style="border:1pt solid white;vertical-align:top;padding-top:10px" t-if="display_discount" class="text-right">
                                                    <span class="text-nowrap" t-field="line.discount"/>
                                                </td>
                                                <td style="border:1pt solid white;vertical-align:top;padding-top:10px" class="text-left">
                                                    <span style="padding:5pt" t-esc="', '.join(map(lambda x: (x.description or x.name), line.tax_ids))" id="line_tax_ids"/>
                                                </td>
                                                <td style="border:1pt solid white;vertical-align:top;padding-top:10px" class="text-right">
                                                    <span t-field="line.price_subtotal" groups="account.group_show_line_subtotals_tax_excluded"/>
                                                    <span t-field="line.price_total" groups="account.group_show_line_subtotals_tax_included"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>

                                <br/>
                            

                </div>
                

            </t>
            </t>
            </t>
        </template>


    </odoo>
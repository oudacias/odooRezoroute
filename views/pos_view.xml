<?xml version="1.0" encoding="utf-8"?>
    <odoo>
        <record model="ir.ui.view" id="ps_rezoroute.POS1">
            <field name="name">ps_rezoroute POS</field>
            <field name="model">pos.session</field>
            <field name="inherit_id" ref="point_of_sale.view_pos_session_form"/>

            <field name="arch" type="xml"> 
             
                <xpath expr="//button[@name='show_journal_items']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//button[@name='show_cash_register']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//button[@name='action_pos_session_closing_control']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
 
                <xpath expr="//button[@name='open_frontend_cb']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//button[@name='action_view_order']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//button[@name='action_show_payments_list']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//div[hasclass('oe_button_box')]" position="inside">
                    <button name="action_view_facture"
                            class="oe_stat_button"
                            icon="fa-money"
                            type="object">
                            <field name="facture_count" widget="statinfo" string="Factures"/>
                        </button>

                    <button name="action_view_stock"
                            class="oe_stat_button"
                            icon="fa-truck"
                            type="object">
                            <field name="stock_count" widget="statinfo" string="Stock"/>
                        </button>

                    <button name="action_view_sale"
                            class="oe_stat_button"
                            icon="fa-file"
                            type="object">
                            <field name="sale_count" widget="statinfo" string="Devis"/>
                        </button>
                    <button name="action_view_reglement"
                            class="oe_stat_button"
                            icon="fa-file"
                            type="object">
                            <field name="reglement_count" widget="statinfo" string="Règlement"/>
                        </button>
                </xpath>             
                <xpath expr="//header"  postion="inside">
                    <button name="check_cash_funds" string="Valider Session" type="object" attrs="{'invisible': [ '|', '&amp;',('state', '!=', 'opening_control'), ('rescue', '=', False),
                                '&amp;',('state', '=', 'opening_control'), ('rescue', '=', True)]}" />

                    <button name="sale_pos_cash_out" string="Retirer de l'espèce" type="object" attrs="{'invisible': [ '|', '&amp;',('state', '!=', 'opening_control'), ('rescue', '=', False),
                                '&amp;',('state', '=', 'opening_control'), ('rescue', '=', True)]}" />

                    <button name="auto_close_pos_session" string="Cloturer Session" type="object" attrs="{'invisible': [ '|', '&amp;',('state', '!=', 'closing_control'), ('rescue', '=', False),
                                '&amp;',('state', '=', 'closed'), ('rescue', '=', True)]}" />
                    <!-- <button name="open_sessions" string="Ouvrir Session" type="object" /> -->
                </xpath>

                <xpath expr="//field[@name='stop_at']" position="after">                        
                    <field name="total_compute"/>
                </xpath>

                <xpath expr="//sheet" position="inside">
                    <notebook>
                        <page string="Résumé" name="resume">
                            <group>
                                <field name="payment_id">
                                    <tree>
                                        <field name="journal_id" string="Type de Paiement" readonly="1"/>
                                        <field name="amount_company_currency_signed" string="Montant"/>
                                        
                                    </tree>
                                </field>
                            </group>
                        </page>
                    </notebook>
                </xpath>
                
            </field>
        </record>

        <record model="ir.ui.view" id="ps_rezoroute.POS2">
            <field name="name">ps_rezoroute POS</field>
            <field name="model">pos.session</field>
            <field name="inherit_id" ref="point_of_sale.view_pos_session_form"/>
            <field name="arch" type="xml">  

                <xpath expr="//page[@name='resume']" position="after">
                    <!-- <notebook> -->
                        <page string="Sortie de caisse" name="retrait_caisse">
                            <group>
                                <field name="retrait_espece">
                                    <tree>
                                        <field name="create_uid" string="Crée par" readonly="1"/>
                                        <field name="motif" string="Motif" readonly="1"/>
                                        <field name="amount" string="Montant" readonly="1"/>
                                        
                                    </tree>
                                </field>
                            </group>
                        </page>
                    <!-- </notebook> -->
                </xpath>
            </field>
        </record>
        
       
                


         <record model="ir.ui.view" id="ps_rezoroute.POSkanban">
            <field name="name">ps_rezoroute POS kanban</field>
            <field name="model">pos.config</field>
            <field name="inherit_id" ref="point_of_sale.view_pos_config_kanban"/>

            <field name="arch" type="xml">  
                
                <xpath expr="//field[@name='last_session_closing_cash']" position="replace">
                
                    <field name="total_compute"/>
                </xpath>
            </field>
        </record>

        <record model="ir.actions.act_window" id="ps_rezoroute.pos_retrait_espece">
            <field name="name">ps_rezoroute POS retrait</field>
            <field name="res_model">pos.cash.out</field>
            <field name="view_mode">form</field>
        </record>
        <record id="ps_rezoroute.pos_retrait_espece_form" model="ir.ui.view">
            <field name="name">ps_rezoroute POS retrait</field>
            <field name="model">pos.cash.out</field>
            <field name="arch" type="xml">
                <form>
                    <group string="Veuillez renseigner le motif et le montant à retirer à votre fond de caisse">
                        <field name="pos_session" invisible="1" />
                        <field name="motif" />
                        <field name="amount" />
                    </group>
                    <footer>
                        <button name="cash_out_after" string="Retirer Espèces" type="object" class="oe_highlight"/>
                    </footer>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="ps_rezoroute.pos_fond_wizard">
            <field name="name">ps_rezoroute pos valider</field>
            <field name="res_model">pos.session.cloture</field>
            <field name="view_mode">form</field>
        </record>
        <record id="pos_fond_wizard_form" model="ir.ui.view">
            <field name="name">ps_rezoroute window</field>
            <field name="model">pos.session.cloture</field>
            <field name="arch" type="xml">
                <form string="Fond de Caisse" create="false" edit="false">
                    <group string="Veuillez saisir votre fond de caisse">
                        <!-- <field name="pos_session_id" /> -->
                        <field name="fond_caisse" />
                    </group>
                    <footer>
                        <button name="check_cash_funds_after" string="Cloturer Session" type="object" class="oe_highlight"/>
                    </footer>
                </form>
            </field>
        </record>
    </odoo>
<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="new_footer" inherit_id="website.layout">
    <xpath expr="//footer" position="replace">
        <footer>
            
        </footer>
    </xpath>
    <xpath expr="//header" position="replace">
        <header>
            
        </header>
    </xpath>
</template>
    <template id="update_diagnostic_template" name="Fiche diagnostic">
        <t t-call="website.layout">
            <div class="wrap">
                <div class="oe_structure">
                    <form role="form" action="/update/diagnostic" method="post">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                        <table style="width:70%; font-family: Tahoma;position:relative;margin-left: auto;margin-right: auto" class="table table-bordered">
                            <thead style="background-color:#557EB5;color:white">
                                <th>TÂCHES À EFFECTUER</th>
                                <th>COMMENTAIRE</th>
                                <th>RAPPEL DANS</th>
                                <th>FAIT</th>
                            </thead>
                            <tbody>
                                <t t-foreach="sale_id.engin_diagnostic_sale" t-as="sale_diagnostic_line">
                                    <tr>
                                        <input type="hidden" name="line_id" t-att-value="sale_diagnostic_line.id" multiple="multiple"/>
                                        <td style="height:70px"><t t-esc="sale_diagnostic_line.name"/></td>
                                        <td><textarea name="comment" multiple="multiple"><t t-esc="sale_diagnostic_line.comment"  style="width:90%"/></textarea></td>
                                        <td>
                                            <select class="form-control" name="next_reminder">
                                           
                                                <option t-attf-value="jamais" t-att-selected='sale_diagnostic_line.next_reminder == "jamais"'>Jamais</option>
                                                <option t-attf-value="immediat" t-att-selected='sale_diagnostic_line.next_reminder == "immediat"'>Immediat</option>
                                                <option t-attf-value="1 mois" t-att-selected='sale_diagnostic_line.next_reminder == "1 mois"'>1 mois</option>
                                                <option t-attf-value="2 mois" t-att-selected='sale_diagnostic_line.next_reminder == "2 mois"'>2 mois</option>
                                                <option t-attf-value="3 mois" t-att-selected='sale_diagnostic_line.next_reminder == "3 mois"'>3 mois</option>
                                                <option t-attf-value="6 mois" t-att-selected='sale_diagnostic_line.next_reminder == "6 mois"'>6 mois</option>
                                                <option t-attf-value="9 mois" t-att-selected='sale_diagnostic_line.next_reminder == "9 mois"'>9 mois</option>
                                                <option t-attf-value="1 ans" t-att-selected='sale_diagnostic_line.next_reminder == "1 ans"'>1 ans</option>
                                                <option t-attf-value="2 ans" t-att-selected='sale_diagnostic_line.next_reminder == "2 ans"'>2 ans</option>
                                                <option t-attf-value="" t-att-selected='sale_diagnostic_line.next_reminder == "3 ans"'>3 ans</option>
                                            </select>
                                        </td>
                     
                                        <t t-if="sale_diagnostic_line.done == True">
                                            <td><input type="checkbox" name="done_diagnostic" multiple="multiple" checked="" t-att-value="sale_diagnostic_line.id"/></td>
                                        </t>
                                        <t t-if="sale_diagnostic_line.done == False">
                                            <td><input type="checkbox" name="done_diagnostic" multiple="multiple"  t-att-value="sale_diagnostic_line.id"/></td>
                                        </t>
                                        
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                        
                        <div style="position:relative; margin-left: auto;margin-right: auto">
                            <button type="submit" class="btn btn-primary">Sauvegarder la fiche diagnostic</button>
                        </div>
                    </form>
                </div>
            </div>
        </t>
    </template>
    <record id="update_diagnostic_done" model="website.page">
        <field name="name">Fin de diagnostic</field>
        <field name="type">qweb</field>
        <field name="url">/Fin-Diagnostic</field>
        <field name="website_published">True</field>
        <field name="key">ps_rezoroute.update_diagnostic_done</field>
        <field name="arch" type="xml">
            <t name="Fin" t-name="ps_rezoroute.update_diagnostic_done">
                <t t-call="website.layout">
                    <div id="wrap">
                        <div class="container">
                            <h3>Sauvegarde de votre diagnostic effectuée</h3>
                        </div>
                    </div>
                </t>
            </t>
        </field>
    </record>
</odoo>
